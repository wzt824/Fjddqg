!function(a,b){var c=function(a){a=b.extend({el:b("#loginbar,#ttbar-login"),callback:null},a||{});var c=function(){return"https:"==document.location.protocol?"https://":"http://"};b.ajax({url:c()+"passport.jd.com/new/helloService.ashx",dataType:"jsonp",scriptCharset:"GBK",success:function(c){if(!c)return!1;if(c.info){var d=c.info;c.info.indexOf("jd.com")>-1&&(d=c.info.replace(/home.jd.com/g,"home.jd.hk")),a.el.html(d)}var e=function(){clearTimeout(f),b.isFunction(a.callback)&&a.callback(c),e=b.noop},f=setTimeout(function(){e()},2e3);if(c.sso){var g=c.sso.length;b.each(c.sso,function(a,c){b.getJSON(c).complete(function(){0==--g&&e()})})}else e()}})};c()}(window,$);